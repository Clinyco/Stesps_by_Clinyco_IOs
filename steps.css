:root{
  --brand-font: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  --brand-color-primary: #0B5FFF;
  --brand-color-primary-contrast: #ffffff;
  --brand-color-text: #111827;
  --brand-color-muted: #6B7280;
  --brand-color-accent: #00BFA6;
  --brand-bg: #F9FAFB;
  --brand-card: #FFFFFF;
  --brand-border: #E5E7EB;
  --radius: 12px;
  --shadow: 0 10px 20px rgba(0,0,0,0.06);
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0; font-family: var(--brand-font);
  color: var(--brand-color-text); background: var(--brand-bg);
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
.container{ max-width: 960px; margin: 40px auto; padding: 0 20px; }
.header{ display:flex; align-items:center; justify-content:space-between; margin-bottom: 24px; }
.brand{ display:flex; align-items:center; gap:12px; font-weight: 700; font-size: 20px; }
.brand img{ width:32px; height:32px; border-radius:8px; }
.card{
  background: var(--brand-card); border: 1px solid var(--brand-border);
  border-radius: var(--radius); box-shadow: var(--shadow); padding: 20px;
}
.toolbar{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
.btn{
  appearance:none; border:1px solid var(--brand-border); background:#fff; color:var(--brand-color-text);
  padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600; text-decoration:none; display:inline-flex; align-items:center; gap:8px;
}
.btn[disabled]{ opacity: .5; cursor:not-allowed; }
.btn-primary{
  background: var(--brand-color-primary); border-color: var(--brand-color-primary); color: var(--brand-color-primary-contrast);
}
.btn-outline{ background: #fff; }
.badge{
  font-size:12px; color: var(--brand-color-muted); background:#fff; border:1px solid var(--brand-border);
  padding: 3px 8px; border-radius: 999px;
}
.steps-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom: 12px; }
.steps-list{
  counter-reset: step; list-style:none; padding:0; margin:0; display:grid; gap:12px;
}
.step{
  border:1px solid var(--brand-border); border-radius:10px; padding:14px; display:flex; flex-direction:column; gap:12px; background:#fff;
}
.step::before{
  counter-increment: step; content: counter(step) ".";
  font-weight:700; color: var(--brand-color-muted); margin-top:2px;
}
.step[data-status="done"] { border-color: rgba(0,191,166,0.4); background: linear-gradient(0deg, rgba(0,191,166,0.06), rgba(0,191,166,0.06)), #fff; }
.step-title{ font-weight:600; }
.step-desc{ color: var(--brand-color-muted); font-size: 14px; margin-top:4px; }
.step-header{ display:flex; justify-content:space-between; gap:12px; align-items:flex-start; }
.step-main{ display:flex; flex-direction:column; gap:6px; }
.step-info{ font-size:13px; color: var(--brand-color-primary); text-decoration:none; }
.step-info[hidden]{ display:none; }
.step-info:hover{ text-decoration:underline; }
.step-toggle{
  border:1px solid var(--brand-border); background:#fff; border-radius:8px; padding:6px 8px; font-size:12px; cursor:pointer;
}
[data-mode="client"] .step-toggle{ display:none; }
[data-mode="client"] .step-note-wrapper{ display:none; }
.step-note-wrapper{ display:flex; flex-direction:column; gap:6px; }
.step-note-label{ font-size:12px; color: var(--brand-color-muted); }
.step-note{
  width: 100%;
  border:1px solid var(--brand-border); border-radius:8px; padding:8px; font-family: var(--brand-font);
  font-size: 14px; min-height: 80px; resize: vertical;
}
.step-note[readonly]{ background:#F3F4F6; cursor:not-allowed; }
.step-title.editable, .step-desc[contenteditable="true"]{ outline:2px solid rgba(11,95,255,0.2); border-radius:6px; padding:2px; }
.step-desc[contenteditable="true"]{ min-height:20px; }
.toast{
  position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
  background: #111827; color: #fff; padding: 10px 14px; border-radius: 10px; opacity: 0; transition: opacity .2s, transform .2s;
}
.toast.show{ opacity: 1; transform: translateX(-50%) translateY(-4px); }
.footer{ margin-top:18px; font-size:12px; color: var(--brand-color-muted); text-align:center; }
